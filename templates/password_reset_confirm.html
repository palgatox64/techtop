{% extends 'base.html' %}
{% load static %}

{% block title %}Nueva Contraseña - Techtop{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">

<div class="login-page">
    <div class="login-container">
        <h2 class="login-title">Establecer Nueva Contraseña</h2>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            Crea una contraseña segura para tu cuenta.
        </p>
        
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" style="padding: 12px; margin-bottom: 20px; border-radius: 6px; 
                     {% if message.tags == 'success' %}background: #d4edda; color: #155724; border: 1px solid #c3e6cb;
                     {% elif message.tags == 'error' %}background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
        
        <form method="POST" novalidate>
            {% csrf_token %}
            <div class="form-group">
                <label for="password">Nueva Contraseña</label>
                <div class="input-container">
                    <input type="password" id="password" name="password" placeholder="Mínimo 8 caracteres" required>
                    <button type="button" class="password-toggle" onclick="togglePassword('password')">
                        <i class='bx bx-hide' id="password-toggle-icon"></i>
                    </button>
                </div>
                <small style="color: #666; font-size: 0.85rem;">
                    Debe contener: mayúsculas, minúsculas, números y símbolos
                </small>
            </div>
            
            <div class="form-group">
                <label for="password2">Confirmar Contraseña</label>
                <div class="input-container">
                    <input type="password" id="password2" name="password2" placeholder="Repite la contraseña" required>
                    <button type="button" class="password-toggle" onclick="togglePassword('password2')">
                        <i class='bx bx-hide' id="password2-toggle-icon"></i>
                    </button>
                </div>
            </div>
            
            <button type="submit" class="btn-login">
                Restablecer Contraseña
            </button>
        </form>
    </div>
</div>

<script src="{% static 'js/password_toggle.js' %}"></script>
{% endblock %}
