{% load meta %}

{% if meta %}
{# Meta tags básicos #}
<meta name="description" content="{{ meta.description }}">
<meta name="keywords" content="{{ meta.keywords|join:', ' }}">

{# Open Graph (Facebook, WhatsApp, etc) #}
<meta property="og:title" content="{{ meta.title }}">
<meta property="og:description" content="{{ meta.description }}">
<meta property="og:type" content="{{ meta.object_type|default:'website' }}">
<meta property="og:url" content="{{ meta.url }}">
<meta property="og:site_name" content="Techtop">
<meta property="og:locale" content="es_CL">
{% if meta.image %}
<meta property="og:image" content="{{ meta.image }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
{% endif %}

{# Twitter Cards #}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ meta.title }}">
<meta name="twitter:description" content="{{ meta.description }}">
{% if meta.image %}
<meta name="twitter:image" content="{{ meta.image }}">
{% endif %}

{# Propiedades extras de productos #}
{% for prop in meta.extra_custom_props %}
<meta property="{{ prop.0 }}" content="{{ prop.1 }}">
{% endfor %}

{# Schema.org JSON-LD para productos #}
{% if meta.object_type == 'product' %}
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "{{ meta.title }}",
  "description": "{{ meta.description }}",
  "image": "{{ meta.image }}",
  "url": "{{ meta.url }}",
  "offers": {
    "@type": "Offer",
    "price": "{{ meta.extra_custom_props.0.1 }}",
    "priceCurrency": "CLP",
    "availability": "https://schema.org/InStock"
  }
}
</script>
{% endif %}
{% else %}
{# Meta tags por defecto cuando no hay objeto meta #}
<meta name="description" content="Techtop - Tu tienda de confianza en radios Android, electrónica automotriz y tecnología en Chile. Envío rápido a todo el país.">
<meta name="keywords" content="techtop, tecnología, radio android, auto, electrónica, chile">
<meta property="og:title" content="Techtop - Tecnología y Electrónica">
<meta property="og:description" content="Tienda líder en radios Android y tecnología automotriz en Chile.">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Techtop">
<meta property="og:locale" content="es_CL">
{% endif %}